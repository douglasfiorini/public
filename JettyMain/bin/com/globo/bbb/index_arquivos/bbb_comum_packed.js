
(function($){var show=function(){this.css('visibility','visible');};var hide=function(){this.css('visibility','hidden');};if($.support.opacity){var oldShow=show;show=function(){oldShow.call(this);this.clearQueue().stop().delay(80).animate({opacity:1},{duration:200});};var oldHide=hide;hide=function(){this.clearQueue().stop().delay(100).animate({opacity:0},{complete:$.proxy(oldHide,this),duration:200});};}
$.widget('ui.glbmenu',{_create:function(){this.menuLeft=this.element.offset().left;this.menuWidth=this.element.width();this.setupSubmenus();},setupSubmenus:function(){var self=this;this.element.find('ul.menu-itens > li').each(function(){var li=$(this),submenu=li.find('div.submenu');if(!submenu.length)return;var columns=li.find('div.conteudo-subitens:first > ul'),nColumns=columns.length;columns.last().addClass('last');hide.call(submenu);if(nColumns>1){submenu.first().addClass('submenu-'+nColumns+'colunas');}
self.reflowSubmenuSide(li,submenu);li.hover($.proxy(show,submenu),$.proxy(hide,submenu));});},reflowSubmenuSide:function(li,submenu){if(li.hasClass('menu-item-especial'))return;var rightDiff=(submenu.offset().left+submenu.width())-(this.menuLeft+this.menuWidth);if(rightDiff>0){li.addClass('menu-item-esq');var leftDiff=this.menuLeft-submenu.offset().left;if(leftDiff>0&&rightDiff<leftDiff){li.removeClass('menu-item-esq');}}}});$('#glb-menu').glbmenu();})(jQuery);